# ===========================
# تنظیمات اصلی سیستم
# ===========================

# Domain Configuration
DOMAIN=yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com

# ===========================
# Database Configuration
# ===========================
DB_NAME=app_db
DB_USER=app_user
DB_PASSWORD=ChangeThisToStrongPassword2024!
DB_HOST=postgres
DB_PORT=5432

# ===========================
# Redis Configuration
# ===========================
REDIS_PASSWORD=ChangeThisRedisPassword2024!
REDIS_URL=redis://:ChangeThisRedisPassword2024!@redis:6379/0
CACHE_URL=redis://:ChangeThisRedisPassword2024!@redis:6379/1

# ===========================
# RabbitMQ Configuration
# ===========================
RABBITMQ_USER=app
RABBITMQ_PASSWORD=ChangeThisRabbitPassword2024!

# ===========================
# Django Settings
# ===========================
# Generate new secret key: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=django-insecure-change-this-to-a-real-secret-key-in-production
DEBUG=false
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# Admin User
DJANGO_ADMIN_PASSWORD=ChangeThisAdminPassword2024!

# JWT Configuration (MUST match central system)
JWT_SECRET_KEY=change-this-to-match-your-central-system-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# ===========================
# RAG Core API Configuration
# ===========================
RAG_CORE_BASE_URL=https://core.example.com
RAG_CORE_API_KEY=YOUR_REAL_RAG_API_KEY_HERE

# ===========================
# Email Configuration
# ===========================
# Gmail Example
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
EMAIL_USE_TLS=true
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# SMTP Server Example
# EMAIL_HOST=mail.yourdomain.com
# EMAIL_PORT=465
# EMAIL_HOST_USER=noreply@yourdomain.com
# EMAIL_HOST_PASSWORD=your-email-password
# EMAIL_USE_SSL=true

# ===========================
# Payment Gateways
# ===========================

# Zarinpal
ZARINPAL_MERCHANT_ID=00000000-0000-0000-0000-000000000000
ZARINPAL_SANDBOX=false
ZARINPAL_CALLBACK_URL=https://yourdomain.com/api/v1/payments/zarinpal/callback/

# Stripe
STRIPE_PUBLIC_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Cryptocurrency (Optional)
CRYPTO_WALLET_ADDRESS=
CRYPTO_API_KEY=

# ===========================
# Frontend Settings
# ===========================
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com
# Backend URL for server-side Next.js API routes
BACKEND_URL=https://api.yourdomain.com

# ===========================
# Celery Configuration
# ===========================
CELERY_BROKER_URL=amqp://app:ChangeThisRabbitPassword2024!@rabbitmq:5672//
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_TIMEZONE=Asia/Tehran
CELERY_BEAT_SCHEDULE_FILENAME=/tmp/celerybeat-schedule

# ===========================
# Security Settings
# ===========================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
SECURE_SSL_REDIRECT=false
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false

# ===========================
# SMS Configuration (Kavenegar)
# ===========================
KAVENEGAR_API_KEY=your-kavenegar-api-key
KAVENEGAR_SENDER=your-default-sender-number

# ===========================
# Bale Messenger
# ===========================
BALE_USERNAME=your-bale-username
BALE_PASSWORD=your-bale-password

# ===========================
# Push Notification (Firebase)
# ===========================
FIREBASE_SERVER_KEY=
FCM_SERVER_KEY=
APNS_CERTIFICATE_PATH=
APNS_USE_SANDBOX=true

# ===========================
# Analytics & Monitoring
# ===========================
SENTRY_DSN=
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# ===========================
# Nginx Proxy Manager
# ===========================
NPM_DB_PASSWORD=ChangeThisNpmDbPassword2024!
NPM_ADMIN_EMAIL=admin@yourdomain.com
NPM_ADMIN_PASSWORD=ChangeThisAdminPassword2024!

# ===========================
# Backup Configuration
# ===========================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=
BACKUP_S3_REGION=us-east-1
BACKUP_LOCAL_PATH=/srv/backups

# ===========================
# Container Resource Limits
# ===========================
# Format: "memory_limit,cpu_limit" (e.g., "512m,0.5" = 512MB RAM, 50% of 1 CPU)
BACKEND_RESOURCES="1g,1.0"
FRONTEND_RESOURCES="512m,0.5"
POSTGRES_RESOURCES="1g,1.0"
REDIS_RESOURCES="256m,0.25"
RABBITMQ_RESOURCES="512m,0.5"

# ===========================
# Timezone & Locale
# ===========================
TZ=Asia/Tehran
LANGUAGE_CODE=fa-ir
TIME_ZONE=Asia/Tehran
